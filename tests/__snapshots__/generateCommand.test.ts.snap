// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`CLI Generate Command generates Python client 1`] = `
""""
Generated API Client
This file was auto-generated by GIDEVO API Tool
Do not edit manually
"""

import requests
from typing import Optional, Dict, Any, List, TypeVar, Generic
from dataclasses import dataclass
from enum import Enum

T = TypeVar('T')


class HttpMethod(Enum):
    GET = "GET"
    POST = "POST"
    PUT = "PUT"
    PATCH = "PATCH"
    DELETE = "DELETE"


@dataclass
class ApiResponse(Generic[T]):
    """Generic API response wrapper"""
    data: T
    status_code: int
    headers: Dict[str, str]


@dataclass
class ErrorResponse:
    """Error response from API"""
    message: str
    code: str
    details: Optional[Dict[str, Any]] = None


class ApiError(Exception):
    """API Error exception"""
    def __init__(self, message: str, status_code: int, response: Optional[Dict] = None):
        self.message = message
        self.status_code = status_code
        self.response = response
        super().__init__(self.message)


class ApiClient:
    """
    API Client for Test API
    Version: 1.0.0
    """

    def __init__(
        self,
        base_url: str,
        token: Optional[str] = None,
        timeout: int = 30,
        headers: Optional[Dict[str, str]] = None
    ):
        """
        Initialize the API client.
        
        Args:
            base_url: The base URL for the API
            token: Optional bearer token for authentication
            timeout: Request timeout in seconds (default: 30)
            headers: Additional headers to include in requests
        """
        self.base_url = base_url.rstrip('/')
        self.timeout = timeout
        self.session = requests.Session()
        self.session.headers['Content-Type'] = 'application/json'
        
        if token:
            self.session.headers['Authorization'] = f'Bearer {token}'
        
        if headers:
            self.session.headers.update(headers)

    def set_token(self, token: str) -> None:
        """Set the authorization token."""
        self.session.headers['Authorization'] = f'Bearer {token}'

    def clear_token(self) -> None:
        """Remove the authorization token."""
        if 'Authorization' in self.session.headers:
            del self.session.headers['Authorization']

    def _request(
        self,
        method: HttpMethod,
        path: str,
        data: Optional[Dict[str, Any]] = None,
        params: Optional[Dict[str, Any]] = None,
        headers: Optional[Dict[str, str]] = None
    ) -> Dict[str, Any]:
        """
        Make an HTTP request.
        
        Args:
            method: HTTP method
            path: API endpoint path
            data: Request body data
            params: Query parameters
            headers: Additional headers
            
        Returns:
            Response data as dictionary
            
        Raises:
            ApiError: If the request fails
        """
        url = f'{self.base_url}{path}'
        
        request_headers = dict(self.session.headers)
        if headers:
            request_headers.update(headers)
        
        try:
            response = self.session.request(
                method=method.value,
                url=url,
                json=data,
                params=params,
                headers=request_headers,
                timeout=self.timeout
            )
            response.raise_for_status()
            
            if response.content:
                return response.json()
            return {}
            
        except requests.exceptions.HTTPError as e:
            error_data = {}
            try:
                error_data = e.response.json()
            except:
                pass
            raise ApiError(
                message=error_data.get('message', str(e)),
                status_code=e.response.status_code,
                response=error_data
            )
        except requests.exceptions.RequestException as e:
            raise ApiError(message=str(e), status_code=0)

    def get(self, path: str, params: Optional[Dict[str, Any]] = None) -> Dict[str, Any]:
        """Make a GET request."""
        return self._request(HttpMethod.GET, path, params=params)

    def post(self, path: str, data: Optional[Dict[str, Any]] = None) -> Dict[str, Any]:
        """Make a POST request."""
        return self._request(HttpMethod.POST, path, data=data)

    def put(self, path: str, data: Optional[Dict[str, Any]] = None) -> Dict[str, Any]:
        """Make a PUT request."""
        return self._request(HttpMethod.PUT, path, data=data)

    def patch(self, path: str, data: Optional[Dict[str, Any]] = None) -> Dict[str, Any]:
        """Make a PATCH request."""
        return self._request(HttpMethod.PATCH, path, data=data)

    def delete(self, path: str) -> Dict[str, Any]:
        """Make a DELETE request."""
        return self._request(HttpMethod.DELETE, path)

    # ============================================
    # Generated API Methods
    # ============================================

    def getTest(self) -> Dict[str, Any]:
        """
        Test endpoint
        
        Path: /test
        Method: get
        """
        return self.get('/test')


# For convenience, also export the client
__all__ = ['ApiClient', 'ApiError', 'ApiResponse', 'ErrorResponse']
"
`;

exports[`CLI Generate Command generates TypeScript client 1`] = `
"/**
 * Generated API Client
 * This file was auto-generated by GIDEVO API Tool
 * Do not edit manually
 */

import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';

export interface ApiClientConfig {
  baseURL: string;
  token?: string;
  timeout?: number;
  headers?: Record<string, string>;
}

export interface ApiResponse<T> {
  data: T;
  status: number;
  headers: Record<string, string>;
}

export class ApiClient {
  private client: AxiosInstance;

  constructor(config: ApiClientConfig | string, token?: string) {
    const baseURL = typeof config === 'string' ? config : config.baseURL;
    const configToken = typeof config === 'string' ? token : config.token;
    const timeout = typeof config === 'string' ? 30000 : (config.timeout || 30000);
    const extraHeaders = typeof config === 'string' ? {} : (config.headers || {});

    this.client = axios.create({
      baseURL,
      timeout,
      headers: {
        'Content-Type': 'application/json',
        ...(configToken ? { Authorization: \`Bearer \${configToken}\` } : {}),
        ...extraHeaders
      }
    });

    // Response interceptor for error handling
    this.client.interceptors.response.use(
      (response) => response,
      (error) => {
        if (error.response) {
          const message = error.response.data?.message || error.message;
          throw new Error(\`API Error \${error.response.status}: \${message}\`);
        }
        throw error;
      }
    );
  }

  /**
   * Set authorization token
   */
  setToken(token: string): void {
    this.client.defaults.headers.common['Authorization'] = \`Bearer \${token}\`;
  }

  /**
   * Remove authorization token
   */
  clearToken(): void {
    delete this.client.defaults.headers.common['Authorization'];
  }

  /**
   * GET request
   */
  async get<T>(path: string, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.get<T>(path, config);
    return response.data;
  }

  /**
   * POST request
   */
  async post<T>(path: string, data?: any, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.post<T>(path, data, config);
    return response.data;
  }

  /**
   * PUT request
   */
  async put<T>(path: string, data?: any, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.put<T>(path, data, config);
    return response.data;
  }

  /**
   * PATCH request
   */
  async patch<T>(path: string, data?: any, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.patch<T>(path, data, config);
    return response.data;
  }

  /**
   * DELETE request
   */
  async delete<T>(path: string, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.delete<T>(path, config);
    return response.data;
  }

  /**
   * Get raw response with headers and status
   */
  async request<T>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {
    const response = await this.client.request<T>(config);
    return {
      data: response.data,
      status: response.status,
      headers: response.headers as Record<string, string>
    };
  }

  // ============================================
  // Generated API Methods
  // ============================================

  /**
   * Test endpoint
   * 
   * @path /test
   */
  async getTest(): Promise<any> {
    return this.get('/test');
  }

}

export default ApiClient;
"
`;
